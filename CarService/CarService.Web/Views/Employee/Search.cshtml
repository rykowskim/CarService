@model CarService.Web.ViewModels.Employee.EmployeeSearchItem
@using PagedList.Mvc;
<div class="container">
    <div class="page-header">
        <div class="pull-right">
            <a href="" class="btn btn-default" style="border-radius:0px; border-color: #808080; color:#808080">
                <i class="fa fa-user-plus fa-fw"></i>Nowy pracownik
            </a>
        </div>
        <h3>Pracownicy</h3>
    </div>
    @using (Html.BeginForm("Search", "Employee"))
    {
        <div class="form-group row">
            <div class="col-md-2">
                @Html.LabelFor(m => m.Name, new { @class = "control-label" })
                @Html.TextBoxFor(m => m.Name, new { @class = "form-control", @style = "border-radius: 0px" })
            </div>
            <div class="col-md-2">
                @Html.LabelFor(m => m.Surname, new { @class = "control-label" })
                @Html.TextBoxFor(m => m.Surname, new { @class = "form-control", @style = "border-radius: 0px" })
            </div>
            <div class="col-md-2">
                @Html.LabelFor(m => m.Email, new { @class = "control-label" })
                @Html.TextBoxFor(m => m.Email, new { @class = "form-control", @style = "border-radius: 0px" })
            </div>
            <div class="col-md-2">
                @Html.LabelFor(m => m.PositionId, new { @class = "control-label" })
                @Html.DropDownListFor(m => m.PositionId, Model.Positions, "--Wybierz--", new { @class = "form-control", @style = "border-radius: 0px" })
            </div>
        </div>
        <div class="form-group">
            <div class="pull-right">
                <input type="submit" value="Szukaj" class="btn btn-primary" style="border-radius:0px; width:79px" />
                <button type="button" id="clearBtn" class="btn btn-danger" style="border-radius:0px;">Wyczyść</button>
            </div>
        </div><br /><br />
    }
    <table class="table table-striped table-bordered">
        <thead style="background-color: #135bd3; color:white">
            <tr>
                <th style="width:275px;">Imię i Nazwisko</th>
                <th style="width:200px;">Email</th>
                <th style="width:150px;">Telefon</th>
                <th style="width:200px;">Stanowisko</th>
                <th style="width:40px;">Naprawy</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.ResultItems)
            {
                <tr>
                    <td><a href="@Url.Action("View", "Employee", new { id = item.Id, returnUrl = HttpContext.Current.Request.Url })">@item.FullName</a></td>
                    <td>@item.Email</td>
                    <td>@item.Phone</td>
                    <td>@item.Position</td>
                    <td>@item.CountOfTasks</td>
                </tr>
            }
        </tbody>
    </table>
    @Html.PagedListPager(Model.ResultItems, page => Url.Action("List", new { page }))
</div>
<script>
    $(function () {
        $('#clearBtn').on('click', function () {
            $('#@Html.IdFor(x => x.Name)').val('');
            $('#@Html.IdFor(x => x.Surname)').val('');
            $('#@Html.IdFor(x => x.Email)').val('');
            $('#@Html.IdFor(x => x.PositionId)').val(null);
        });
    });

</script>